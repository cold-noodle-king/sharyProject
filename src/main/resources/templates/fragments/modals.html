<!-- 노트 보기 모달 -->
<div th:fragment="modals">
    <div class="modal fade" id="customPortfolioModal" tabindex="-1" aria-labelledby="customModalNoteTitle" aria-hidden="true">
        <div class="modal-dialog custom-modal-xxl">
            <div class="modal-content">
                <div class="modal-header">
                    <!-- 탭 메뉴 추가 -->
                    <ul class="nav nav-tabs" id="modalTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="note-tab" data-bs-toggle="tab" href="#noteContent" role="tab" aria-controls="noteContent" aria-selected="true">노트 내용</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="profile-tab" data-bs-toggle="tab" href="#profileContent" role="tab" aria-controls="profileContent" aria-selected="false">프로필 정보</a>
                        </li>
                    </ul>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- 노트 번호 및 좋아요 수를 저장하는 hidden input -->
                    <input type="hidden" id="hiddenNoteNum">
                    <input type="hidden" id="hiddenLikeCount">

                    <div class="tab-content" id="modalTabContent">
                        <!-- 노트 내용 탭 -->
                        <div class="tab-pane fade show active" id="noteContent" role="tabpanel" aria-labelledby="note-tab">
                            <div class="custom-note-background" id="customNoteContentModal">
                                <div class="custom-white-background">
                                    <!-- 프로필 이미지 및 위치/날짜/감정 섹션 -->
                                    <div class="d-flex align-items-center mb-4 custom-profile-section">
                                        <div class="custom-profile-image me-3">
                                            <img id="customModalProfilePicture" src="/images/default_profile.png" class="rounded-circle" width="60" height="60" alt="프로필" data-member-id="">
                                        </div>
                                        <div class="w-100">
                                            <p id="customModalLocation">[위치]</p>
                                            <div class="custom-date-emotion-section">
                                                <span id="customModalDiaryDate">[작성일]</span>
                                                <span id="customModalEmotion" class="ms-3 custom-emotion-icon">[감정]</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 노트 이미지 섹션 -->
                                    <div class="custom-image-section">
                                        <img src="" alt="노트 내용 이미지" id="customModalNoteImage" style="display: none;">
                                    </div>

                                    <!-- 내용 섹션 -->
                                    <div class="custom-content-section">
                                        <p id="customModalContents">[내용]</p>
                                    </div>

                                    <!-- 좋아요 버튼 및 좋아요 수 표시 -->
                                    <div class="d-flex flex-column align-items-center mb-3">
                                        <!-- 좋아요 버튼 (아이콘과 숫자가 자연스럽게 표시되도록 수정) -->
                                        <button id="likeButton" class="btn btn-outline-primary d-flex align-items-center">
                                            <i class="bi bi-heart"></i> <!-- 하트 아이콘 -->
                                            <span id="likeCountText" class="ms-2">0</span> <!-- 좋아요 숫자 -->
                                        </button>
                                    </div>

                                    <!-- 해시태그 섹션 -->
                                    <div class="custom-hashtag-section">
                                        <div id="customModalHashtags"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 프로필 정보 탭 -->
                        <div class="tab-pane fade" id="profileContent" role="tabpanel" aria-labelledby="profile-tab">
                            <!-- 프로필 정보 표시 -->
                            <div class="custom-content-wrapper text-center">
                                <img id="profileModalImage" src="/images/default_profile.png" class="rounded-circle mb-3" width="100" height="100" alt="프로필 이미지"/>
                                <h4 id="profileModalNickname">닉네임</h4>
                                <p id="profileModalMent" style="white-space: pre-wrap;">한 줄 소개</p>

                                <!-- 팔로우 버튼 -->
                                <!--<button id="followButton" class="btn btn-primary">팔로우</button>
                                <button id="unFollowButton" class="btn btn-primary">팔로우 취소</button>-->

                                <!-- 팔로우 버튼 -->
                                <button id="followButton" class="btn btn-primary" style="display: none;">팔로우</button>

                                <!-- 팔로우 취소 버튼 -->
                                <button id="unFollowButton" class="btn btn-danger" style="display: none;">팔로우 취소</button>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 추가된 프로필 모달 -->
    <div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="profileModalLabel">프로필 정보</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center">
                        <!-- 프로필 이미지 -->
                        <img id="profileImage" class="rounded-circle mb-3" width="100" height="100" alt="프로필 이미지" />

                        <!-- 닉네임 -->
                        <h4 id="profileNickname">닉네임</h4>

                        <!-- 소개글 -->
                        <pre id="profileMent">소개글이 없습니다.</pre>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 날씨 모달 -->
    <div class="modal fade" id="weatherModal" tabindex="-1" aria-labelledby="weatherModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">날씨 정보</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h3><span id="baseDate"></span></h3>
                    <p>
                        <img id="todayWeatherIcon" src="" alt="날씨 아이콘" class="weather-modal-icon">
                    </p>
                    <h5><p><span id="todayWeatherDesc"></span></p></h5>
                    <h5><p><span id="todayTemperature"></span>℃ / <span id="todayHumidity"></span>%</p></h5>

                    <h4>지난주 날씨</h4>
                    <table id="lastWeekWeatherTable" class="table table-bordered">
                        <tbody>
                        <!-- 데이터가 동적으로 추가됩니다 -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

</div>